AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: >
  sam-test

  Sample SAM Template for sam-test

Globals:
  Function:
    Timeout: 3
    Runtime: python3.9
    Handler: app.lambda_handler
    Architectures:
        - x86_64



Resources:
  GETMazeFunction:
    Type: AWS::Serverless::Function 
    Properties:
      CodeUri: maze/GET/
      Events:
        ApiEvent:
          Type: Api 
          Properties:
            Path: /maze
            Method: get
            RestApiId:
              Ref: ApiGateway
  
  POSTMazeFunction:
    Type: AWS::Serverless::Function 
    Properties:
      CodeUri: maze/POST/
      Events:
        ApiEvent:
          Type: Api 
          Properties:
            Path: /maze
            Method: post
            RestApiId:
              Ref: ApiGateway
  
  PUTMazeFunction:
    Type: AWS::Serverless::Function 
    Properties:
      CodeUri: maze/PUT/
      Events:
        ApiEvent:
          Type: Api 
          Properties:
            Path: /maze
            Method: put
            RestApiId:
              Ref: ApiGateway
  
  DELETEMazeFunction:
    Type: AWS::Serverless::Function 
    Properties:
      CodeUri: maze/DELETE/
      Events:
        ApiEvent:
          Type: Api 
          Properties:
            Path: /maze
            Method: delete
            RestApiId:
              Ref: ApiGateway
  
  SolverFunction:
    Type: AWS::Serverless::Function 
    Properties:
      CodeUri: mapf/
      Events:
        ApiEvent:
          Type: Api 
          Properties:
            Path: /solve
            Method: post
            RestApiId:
              Ref: ApiGateway


  RuntimeStatisticsFunction:
    Type: AWS::Serverless::Function 
    Properties:
      CodeUri: statistics/runtime
      Events:
        ApiEvent:
          Type: Api 
          Properties:
            Path: /runtimeStats
            Method: get
            RestApiId:
              Ref: ApiGateway
  ComparisonStatisticsFunction:
    Type: AWS::Serverless::Function 
    Properties:
      CodeUri: statistics/comparison
      Events:
        ApiEvent:
          Type: Api 
          Properties:
            Path: /comparisonStats
            Method: get
            RestApiId:
              Ref: ApiGateway
  
  ApiGateway:
    Type: AWS::Serverless::Api
    Properties:
      StageName: default
      Cors: "'*'"
      Name: MapfGateway